<div class="row">
  <br/>
  <h4>What schedule you want to see?  </h4>
  <div class="btn-group">
    <button type="button" class="btn btn-success"
            (click)="isGroupsScheduleCollapsed = !isGroupsScheduleCollapsed">
      {{ isGroupsScheduleCollapsed ? 'Students' : 'Groups' }}
    </button>
  </div>
</div>

<br/>

<ng-template [ngIf]="!isGroupsScheduleCollapsed">
  <accordion [closeOthers]="true" *ngFor="let group of groupPage.content">
    <accordion-group heading="Group Id: {{group.id}}" (click)="getGroupSchedule(group.id)">
      <div class="jumbotron">
        <div class="row">
          <mini-schedule-table [lessons]="professorMap.get(group.id).monday" [dayName]="'Monday'"></mini-schedule-table>
          <mini-schedule-table [lessons]="professorMap.get(group.id).tuesday" [dayName]="'Tuesday'"></mini-schedule-table>
        </div>
        <div class="row">
          <mini-schedule-table [lessons]="professorMap.get(group.id).wednesday" [dayName]="'Wednesday'"></mini-schedule-table>
          <mini-schedule-table [lessons]="professorMap.get(group.id).thursday" [dayName]="'Thursday'"></mini-schedule-table>
        </div>
        <div class="row">
          <mini-schedule-table [lessons]="professorMap.get(group.id).friday" [dayName]="'Friday'"></mini-schedule-table>
          <mini-schedule-table [lessons]="professorMap.get(group.id).saturday" [dayName]="'Saturday'"></mini-schedule-table>
        </div>
      </div>
    </accordion-group>
  </accordion>

  <pager
    [totalItems]="groupPage.totalElements"
    [(ngModel)]="groupPage.number"
    (pageChanged)="getGroupPage($event.page)"
    pageBtnClass="btn"
    [itemsPerPage]="itemsPerPage"
    class="pull-left">
  </pager>
  <button type="button" class="btn btn-default"
          (click)="sortDirection=!sortDirection;
          getGroupPage(groupPage.number)">{{sortDirection ? 'desc'.toUpperCase() : 'asc'.toUpperCase()}}
  </button>
</ng-template>

<ng-template [ngIf]="isGroupsScheduleCollapsed">
  <accordion [closeOthers]="true" *ngFor="let student of studentPage.content">
    <accordion-group heading="Student: {{student.account.firstName}} {{student.account.lastName}}" (click)="getGroupSchedule(student.group.id)">
      <div class="jumbotron">
        <div class="row">
          <mini-schedule-table [lessons]="professorMap.get(student.group.id).monday" [dayName]="'Monday'"></mini-schedule-table>
          <mini-schedule-table [lessons]="professorMap.get(student.group.id).tuesday" [dayName]="'Tuesday'"></mini-schedule-table>
        </div>
        <div class="row">
          <mini-schedule-table [lessons]="professorMap.get(student.group.id).wednesday" [dayName]="'Wednesday'"></mini-schedule-table>
          <mini-schedule-table [lessons]="professorMap.get(student.group.id).thursday" [dayName]="'Thursday'"></mini-schedule-table>
        </div>
        <div class="row">
          <mini-schedule-table [lessons]="professorMap.get(student.group.id).friday" [dayName]="'Friday'"></mini-schedule-table>
          <mini-schedule-table [lessons]="professorMap.get(student.group.id).saturday" [dayName]="'Saturday'"></mini-schedule-table>
        </div>
      </div>
      <!--<pagination-controls id="groups" (pageChange)="page = $event" align="center"></pagination-controls>
  -->
    </accordion-group>
  </accordion>

  <pager
    [totalItems]="studentPage.totalElements"
    [(ngModel)]="studentPage.number"
    (pageChanged)="getStudentPage($event.page)"
    pageBtnClass="btn"
    [itemsPerPage]="itemsPerPage"
    class="pull-left">
  </pager>
  <button type="button" class="btn btn-default"
          (click)="sortDirection=!sortDirection;
          getStudentPage(studentPage.number)">{{sortDirection ? 'desc'.toUpperCase() : 'asc'.toUpperCase()}}
  </button>
</ng-template>
